<!DOCTYPE html>
<html>
<head>
    <title><%= title %></title>
    <%- include('../partials/metadata') %>
    <script src="/js/add/figure.js"></script>
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <script>
        getRetailers();
    </script>
</head>
<body>
<%- include('../partials/navbar') %>
<section class="hero is-primary is-small">
    <div class="hero-body">
        <p class="title">
            Add an amiibo
        </p>
    </div>
</section>

<div class="container pt-5">
    <ul class="steps has-content-centered">
        <li id="series-info-segment" class="steps-segment is-active">
            <span class="steps-marker"></span>
            <div class="steps-content has-text-light">
                <p class="is-size-5">Series Information</p>
            </div>
        </li>
        <li id="amiibo-info-segment" class="steps-segment">
            <span class="steps-marker"></span>
            <div class="steps-content has-text-light">
                <p class="is-size-5">amiibo Information</p>
            </div>
        </li>
        <li id="purchase-info-segment" class="steps-segment">
            <span class="steps-marker"></span>
            <div class="steps-content has-text-light">
                <p class="is-size-5">Purchase Information</p>
            </div>
        </li>
        <li id="completion-segment" class="steps-segment">
            <span class="steps-marker"></span>
            <div class="steps-content has-text-light">
                <p class="is-size-5">Complete</p>
            </div>
        </li>
    </ul>

    <div class="card">
        <div id="add-card-div" class="card-content">
            <div class="content">
                <div id="series-div">
                    <h1 class="title has-text-light">Series Information</h1>
                    <div class="field">
                        <label class="label">Series</label>
                        <div class="control">
                            <div class="select">
                                <select id="series-selection" onchange="seriesSelect()">
                                    <option value="-2">Select Series</option>
                                    <% series.forEach(function(oneseries) { %>
                                        <option value="<%= oneseries.id %>"><%= oneseries.series %></option>
                                    <% }); %>
                                    <option value="-1">-- New Series --</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div id="add-series-div" class="is-hidden">
                        <div class="field">
                            <label class="label">New Series Name</label>
                            <div class="control">
                                <input required id="series-text" class="input" type="text"
                                       placeholder="i.e. The game series' name" onKeyUp="seriesSelect()">
                            </div>
                        </div>
                    </div>

                    <br>
                    <div class="control">
                        <button disabled id="series-submit-button" class="button is-link" onclick="submitSeriesInfo()">
                            Next
                        </button>
                    </div>
                </div>
                <div id="amiibo-div" class="is-hidden">
                    <h1 class="title has-text-light">amiibo Information</h1>

                    <div class="field">
                        <label class="label">amiibo Name</label>
                        <div class="control">
                            <input required id="amiibo-text" class="input" type="text"
                                   placeholder="i.e. The character's name" onKeyUp="amiiboSelect()">
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Type</label>
                        <div class="control">
                            <div class="select">
                                <select id="type-selection" onchange="amiiboSelect()">
                                    <option value="-1">Select Type</option>
                                    <option value="0">Figure</option>
                                    <option value="1">Card</option>
                                    <option value="2">Plush</option>
                                    <option value="3">Other</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">MSRP</label>
                        <div class="control">
                            <input id="msrp-text" class="input" type="number" min="0" step="any"
                                   placeholder="How much does this normally cost?">
                        </div>
                    </div>

                    <br>
                    <div class="control">
                        <button disabled id="amiibo-submit-button" class="button is-link" onclick="postAmiibo()">
                            Next
                        </button>
                    </div>
                </div>
                <div id="purchase-div" class="is-hidden">
                    <h1 class="title has-text-light">Purchase Information</h1>

                    <div class="field">
                        <label class="label">Date Added</label>
                        <div class="control">
                            <input id="calendar-input" type="date" name="trip-start"
                                   min="1970-01-01">
                        </div>
                    </div>

                    <div class="field" onclick="dateCheck()">
                        <input id="date-check" type="checkbox" onclick="dateCheck()">
                        <label class="checkbox has-text-light" onclick="dateCheck()">I don't know when I bought
                            it</label>
                    </div>

                    <div class="field">
                        <label class="label">Cost</label>
                        <div class="control">
                            <input required id="cost-text" class="input" type="number" min="0" step="any"
                                   placeholder="How much did you pay for this?">
                        </div>
                    </div>

                    <div class="field" onclick="giftCheck()">
                        <input id="gift-check" type="checkbox" onclick="giftCheck()">
                        <label class="checkbox has-text-light" onclick="giftCheck()">This was a gift</label>
                    </div>

                    <div class="field">
                        <label class="label">Condition</label>
                        <div class="control">
                            <div class="select">
                                <select id="condition-selection">
                                    <option id="new">New</option>
                                    <option id="used">Used</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="field">
                        <input id="box-check" type="checkbox">
                        <label class="checkbox has-text-light">In Box (Is the packaging currently sealed?)</label>
                    </div>

                    <div class="field">
                        <label class="label">Retailer</label>
                        <div class="control">
                            <div class="select">
                                <select id="retailer-selection">
                                    <option value="-2">Unknown</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <br>
                    <div class="control">
                        <button id="purchase-submit-button" class="button is-link"
                                onclick="postFigure()">
                            Next
                        </button>
                    </div>
                </div>
                <div id="completion-div" class="is-hidden">
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
