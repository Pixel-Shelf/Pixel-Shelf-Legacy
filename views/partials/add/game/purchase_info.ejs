<h1 class="title has-text-light">Purchase Information</h1>

<div class="field">
    <label class="label">Date Added</label>
    <div class="control">
        <input id="calendar-input" type="date" name="trip-start"
               min="1970-01-01">
    </div>
</div>

<div class="field" onclick="dateCheck()">
    <input id="date-check" type="checkbox" onclick="dateCheck()">
    <label class="checkbox has-text-light" onclick="dateCheck()">I don't know when I bought it</label>
</div>

<div class="field">
    <label class="label">Cost</label>
    <div class="control">
        <input required id="cost-text" class="input" type="number" min="0" step="any"
               placeholder="How much did you pay for this?">
    </div>
</div>

<div class="field" onclick="giftCheck()">
    <input id="gift-check" type="checkbox" onclick="giftCheck()">
    <label class="checkbox has-text-light" onclick="giftCheck()">This was a gift</label>
</div>

<div class="field">
    <label class="label">Condition</label>
    <div class="control">
        <div class="select">
            <select id="condition-selection">
                <option id="new">New</option>
                <option id="used">Used</option>
            </select>
        </div>
    </div>
</div>

<div class="field">
    <label class="label">Items</label>
    <button id="box-button" class="button is-light is-outlined is-rounded" onclick="toggleButton('box-button')">Box
    </button>
    <button id="manual-button" class="button is-light is-outlined is-rounded" onclick="toggleButton('manual-button')">
        Manual
    </button>
</div>

<div class="field">
    <label class="label">Retailer</label>
    <div class="control">
        <div class="select">
            <select id="retailer-selection" onchange="toggleRetailer()">
                <option value="-2">Unknown</option>
            </select>
        </div>
    </div>
</div>

<div id="add-retailer-div" class="is-hidden">
    <%- include('../retailer/retailer_info') %>
</div>

<div class="control">
    <button id="submit-button" class="button is-link" onclick="submitPurchaseInfo()">Next</button>
</div>
<script>
    let calendar = document.getElementById("calendar-input");
    let today = new Date(Date.now());

    let year = today.getFullYear();
    let month = today.getMonth() + 1 < 10 ? '0' + (today.getMonth() + 1) : today.getMonth() + 1;
    let day = today.getDate() < 10 ? '0' + today.getDate() : today.getDate();
    let fullDate = year + '-' + month + '-' + day;

    calendar.value = fullDate;
</script>